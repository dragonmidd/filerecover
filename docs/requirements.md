# 需求收集问卷 — FileRecover

说明：下面问卷已根据“恢复误删的日常文件；操作便捷、迅速恢复、恢复后能正常打开”的原则完成填写。请审阅并如需调整逐项回复要改动的字段。

## 一、项目与联络
1. 项目简称（项目名）和负责联系人（姓名 + 邮箱/方式）：
   - 项目：FileRecover
   - 负责人：待定（建议填写联系人邮箱以便后续沟通）
2. 期望的第一版发布时间或里程碑（日期或周数）：
   - 建议目标：2026-03-01（可根据团队资源调整）
3. 目标用户（个人、数据恢复服务公司、法务取证单位、企业IT）：
   - 个人用户、企业 IT 管理员（首版优先）、数据恢复服务公司（后续企业功能）

## 二、平台与环境
4. 目标操作系统（可多选）：
   - [x] Windows 10 x64 (桌面版)
   - [ ] Windows Server（后续视需求支持）
   - [ ] 其他（暂不提供原生 macOS/Linux 客户端）
5. 是否需要支持对映像文件（.dd/.img/.vhdx）进行恢复？
   - 是（首版支持 .dd/.img/.vhdx，默认建议在镜像上执行恢复以避免对原盘写入）
6. 是否需要支持直接对物理设备（\\.\\PhysicalDriveN）进行读取？
   - 是（通过管理员权限读取；界面将强烈建议先制作镜像）

## 三、文件系统与存储介质
7. 必须支持的文件系统（优先级 1/2/3）：
   - NTFS（优先级 1）
   - exFAT（优先级 1）
   - FAT12/16/32（优先级 1）
   - ReFS（优先级 2，可选）
   - Ext 系列（优先级 3，后续扩展）
   - HFS+/APFS（优先级 3，后续扩展或通过镜像支持）
8. 是否需要支持单独分区表类型（MBR / GPT）识别与恢复？
   - 是（支持 MBR 与 GPT 识别与基本恢复）
9. 是否需要支持逻辑卷/动态磁盘/LVM/RAID（软件和硬件）？若支持，请说明类型与优先级。
   - 部分支持：首版提供对常见软件卷与基本识别（优先级 2），复杂硬件 RAID 或 LVM 的重组/恢复列为后续高级功能（优先级 3）

## 四、恢复场景
10. 需要覆盖的典型场景（首版覆盖优先级标注）：
   - 回收站误删（高）
   - 快速格式化（高）
   - 完全格式化（低，取决于数据是否被覆盖）
   - 分区删除或分区表损坏（中）
   - 文件系统元数据损坏（MFT/FAT 表损坏）（中）
   - 磁盘分区被覆盖或被重新分区（低/中，视覆盖情况）
   - 磁盘上存在碎片化文件（需要重组碎片）（中）
   - 文件雕刻（基于文件签名恢复）（中）
   - 设备故障导致的只读访问（建议先制作镜像）（中）
   - 其它：用户自定义镜像恢复和批量脚本支持（中）
11. 是否允许/需要在恢复前对目标驱动器制作完整镜像并在镜像上执行恢复？
   - 强烈建议并默认支持（是）

## 五、目标文件类型与优先级
12. 需要优先支持恢复的文件类型或类别（并标注优先级）：
   - 照片（JPEG/PNG/HEIC 等）：高
   - 视频（MP4/MOV/AVI 等）：高
   - Office 文档（DOCX/XLSX/PPTX）：高
   - PDF 文档：高
   - 压缩包（ZIP/RAR/7z）：中
   - 邮件存档（PST/OST/MBOX）：中
   - 数据库文件（SQLite/MDF 等）：低（基础恢复，复杂修复后续）
   - 其他（例如代码、项目文件）：中
13. 是否需要对特定格式实现深度解析？
   - JPEG：尽可能保留/恢复 EXIF 与基本元数据（高）
   - Office 文档：基本结构恢复以保证能被 Office 打开（高）
   - 数据库页级修复：后续高级功能（中/低）

## 六、功能细节与用户体验
14. 是否需要图形界面（GUI）、命令行（CLI）或同时提供两者？
   - 提供 GUI（首选）与 CLI（可选/同时提供），GUI 面向大多数用户，CLI 支持自动化与脚本化场景
15. 在 GUI 中需要哪些视图/功能？
   - 设备/镜像选择
   - 扫描模式选择（快速/深度/自定义）
   - 扫描进度、估时与已发现文件计数
   - 可恢复文件树（按类型/路径/时间/大小过滤）
   - 文件预览（图片/文本/PDF/Office/视频缩略）
   - 过滤器与搜索
   - 恢复队列、批量恢复与冲突处理策略
   - 导出恢复结果为项目文件（便于断点续查）
   - 日志查看与导出
16. 是否需要内置文件预览？是否允许外部程序预览？
   - 内置图片与文本预览（首版），尽量支持 Office/PDF 快速预览；允许通过外部程序打开原文件作更完整预览
17. 是否需要将恢复结果导出为列表/项目文件？
   - 是（支持导出/导入恢复项目，便于断点续传与批量操作）

## 七、性能与质量目标
18. 大盘扫描的期望速度：
   - 目标：扫描 1TB ≤ 2 小时（依磁盘类型、I/O、扫描模式与深度有所浮动；作为目标非硬保证）
19. 成功率目标与可接受误报率：
   - 常见误删场景下目标恢复率 70%–95%（取决于覆盖程度与碎片化），误报/重复条目需提供清晰元数据供用户判断
20. 是否需要在扫描过程中支持暂停/恢复与断点续查？
   - 是（支持暂停、保存扫描状态并在后续恢复）

## 八、安全、隐私与合规
21. 恢复操作是否需要记录审计日志？
   - 是（记录谁、何时、对哪个设备/镜像执行了何种操作，默认本地保存）
22. 是否对敏感数据有限制？
   - 默认不上传恢复数据到云；任何云/远程功能需显式用户授权并采用加密传输
23. 是否需要满足特定法律/合规？
   - 首版不声明法务取证级别；如需法务级支持，将另行设计链路完整性与签名审计功能
24. 是否需要对安装包或二进制进行代码签名？
   - 建议：发布时进行代码签名（强烈推荐）

## 九、权限与驱动级访问
25. 是否允许/需要安装内核驱动或使用已签名驱动来进行低级别磁盘访问？
   - 首版不使用内核驱动以降低签名与发布成本；如需更高级低级访问功能，作为后续可选模块并规划签名成本
26. 是否只允许以管理员权限运行并拒绝非管理员？或提供受限功能给普通用户？
   - 需要管理员权限访问物理设备且进行写操作；对普通用户提供只读/镜像创建和查看功能（受限模式）

## 十、测试数据与验收测试
27. 你是否能提供真实的测试镜像或样本？
   - 建议：准备多套测试镜像（回收站误删、快速格式化、分区损坏、碎片化）用于回归测试；如你能提供真实样本，请上传或说明获取方式
28. 验收测试需要哪些指标与测试集？
   - 建议指标：按文件类型统计恢复成功率（打开率）、完整性检查、扫描时长、错误率；基础套件包括多个误删与格式化场景镜像

## 十一、兼容性与第三方依赖
29. 可接受的第三方库/许可证类型？是否禁止某些许可证？
   - 优先使用宽松许可证：MIT、Apache-2.0；避免在核心路径使用 GPL 限制性库（除非明确许可）
30. 是否需要在产品中集成付费/闭源组件？
   - 首版不依赖付费闭源组件；如需商业组件以提高恢复率/性能，再评估采购成本与许可

## 十二、交付物与发布要求
31. 交付物清单（首版建议）：
   - 可安装程序（MSI/EXE）、CLI 工具、引擎 DLL、用户手册、API 文档（基础）、测试报告
32. 安装程序偏好（MSI、EXE + InnoSetup、ZIP 分发）：
   - MSI（首选）或 EXE + Inno Setup；同时提供便携 ZIP 以供内部测试
33. 是否需要自动更新功能？
   - 可选（首版可不包含；后续加入安全的更新检查机制）

## 十三、优先级与里程碑
34. 第一版必须实现的功能（高优先级）：
   - NTFS/exFAT/FAT 基础恢复与镜像支持
   - GUI（设备选择、扫描、预览、恢复、导出）
   - 支持镜像文件与物理设备只读访问（管理员）
   - 文件预览（图片/文本/常见文档）
   - 导出恢复结果与断点续查
35. 可以推迟到后续版本的功能（低优先级）：
   - Ext/HFS/APFS 支持、复杂 RAID 重组、内核驱动支持、数据库页级修复、完整法务取证链路

## 十四、其他约束与备注
36. 其他事项与注意：
   - 发布时需考虑代码签名费用与 Windows 驱动签名政策
   - UI 应在显著位置提醒用户优先制作镜像以避免覆盖原盘数据
   - 所有网络/上传功能需获得显式用户授权并加密传输

---

填写完成。如需我把这些条目同步到 `docs/requirements_analysis.md` 的相关段落或调整具体值（例如扫描速度目标、优先级分配），请告知需要修改的项。
